{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/footer.js","components/layout.js","components/loading.js","components/prepare.js","components/popup.js","routes/verify.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Footer","id","class","href","getBaseUrl","Layout","children","fullWidth","props","style","maxWidth","Loading","display","width","height","verticalAlign","marginLeft","marginRight","textAlign","fontWeight","color","prepare","prepareComponentData","WrappedComponent","state","loading","ret","this","Promise","then","setState","Component","Popup","className","onClick","handleClose","FILE_STATE","freeze","NONE","Symbol","INVALID","VALID","bytesToHexString","bytes","uint","Uint8Array","hexBytes","byteString","toString","push","join","noop","e","preventDefault","stopPropagation","Verify","hashes","fileNames","popupMsg","dragging","name","sha256","createMsg","valid","match","window","msCrypto","subtle","digest","result","oncomplete","checkFile","crypto","hash","evt","dragLeave","dataTransfer","files","file","reader","FileReader","onload","isIE11","msDigest","readAsArrayBuffer","onDrop","dropHandler","bind","onDragOver","dragOver","onDragEnter","onDragLeave","onDragEnd","a","fetchHashes","connect","getHashes","getFileNames","dispatch","bindActionCreators"],"mappings":"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","file":"static/js/10.d26beefc.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import { h } from 'preact'\nimport { getBaseUrl } from '../util'\n\nconst Footer = () => (\n  <section id=\"footer\">\n    <div class=\"content-section\">\n      <footer>\n        <hr />\n        Developed with <i class=\"fas fa-heart\" /> and{' '}\n        <i class=\"fas fa-coffee\" /> using{' '}\n        <a href=\"https://getbootstrap.com/\">Bootstrap</a>,{' '}\n        <a href=\"https://reactjs.org/\">React</a> and{' '}\n        <a href=\"https://fontawesome.com/\">Font Awesome</a>\n        <a href={`${getBaseUrl()}/atom.xml`} class=\"float-right\">\n          <i class=\"fas fa-rss\" /> Subscribe via RSS\n        </a>\n      </footer>\n    </div>\n  </section>\n)\n\nexport default Footer\n","import { h } from 'preact'\nimport Footer from './footer'\n\nconst Layout = ({ children, fullWidth, ...props }) => {\n  props.class = props.class ? 'container ' + props.class : 'container'\n  props.style = {\n    ...(props.style || {}),\n    maxWidth: fullWidth ? '100%' : ''\n  }\n\n  return (\n    <div {...props} id=\"layout\">\n      {children}\n      <Footer />\n    </div>\n  )\n}\n\nexport default Layout\n","import { h } from 'preact'\n\nconst Loading = () => (\n  <div\n    style={{\n      display: 'table',\n      width: '100%',\n      height: '100%'\n    }}\n  >\n    <div\n      style={{\n        display: 'table-cell',\n        verticalAlign: 'middle'\n      }}\n    >\n      <div\n        style={{\n          marginLeft: 'auto',\n          marginRight: 'auto',\n          textAlign: 'center',\n          fontWeight: 700,\n          color: 'white'\n        }}\n      >\n        <div class=\"fa-4x\">\n          <i class=\"fas fa-spinner fa-spin\"></i>\n        </div>\n      </div>\n    </div>\n  </div>\n)\n\nexport default Loading\n","import { h, Component } from 'preact'\nimport Loading from './loading'\n\nconst prepare = prepareComponentData => WrappedComponent => {\n  return class extends Component {\n    constructor() {\n      super()\n      this.state = {\n        loading: true\n      }\n    }\n\n    componentDidMount() {\n      const ret = prepareComponentData(this.props)\n      if (ret instanceof Promise) {\n        ret.then(() =>\n          this.setState({\n            loading: false\n          })\n        )\n      } else {\n        this.setState({\n          loading: false\n        })\n      }\n    }\n\n    render(props) {\n      const { loading } = this.state\n      return loading ? <Loading /> : <WrappedComponent {...props} />\n    }\n  }\n}\n\nexport default prepare\n","import './popup.css'\n\nimport { h } from 'preact'\n\nconst Popup = props => {\n  return (\n    <div className=\"popup-box\">\n      <span className=\"close-icon\" onClick={props.handleClose}>\n        x\n      </span>\n      <div className=\"box\">{props.children}</div>\n    </div>\n  )\n}\n\nexport default Popup\n","import './verify.css'\nimport Layout from '../components/layout'\nimport { h, Component, Fragment } from 'preact'\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux'\nimport { fetchHashes, getFileNames, getHashes } from '../modules/git'\nimport prepare from '../components/prepare'\nimport Popup from '../components/popup'\nimport { isIE11 } from '../util'\n\nconst FILE_STATE = Object.freeze({\n  NONE: Symbol('NONE'),\n  INVALID: Symbol('INVALID'),\n  VALID: Symbol('VALID')\n})\n\nconst bytesToHexString = bytes => {\n  if (!bytes) return null\n\n  const uint = new Uint8Array(bytes)\n  const hexBytes = []\n  for (let i = 0; i < uint.length; ++i) {\n    let byteString = uint[i].toString(16)\n\n    if (byteString.length < 2) byteString = '0' + byteString\n\n    hexBytes.push(byteString)\n  }\n\n  return hexBytes.join('')\n}\n\nconst noop = e => {\n  e.preventDefault()\n  e.stopPropagation()\n}\n\nclass Verify extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      hashes: props.hashes,\n      fileNames: props.fileNames,\n      popupMsg: null,\n      dragging: false\n    }\n  }\n\n  checkFile(name, sha256) {\n    if (!this.state.hashes[sha256]) {\n      this.setState({\n        popupMsg: this.createMsg(name, sha256, FILE_STATE.INVALID)\n      })\n    } else {\n      this.setState({\n        popupMsg: this.createMsg(name, sha256, FILE_STATE.VALID)\n      })\n    }\n  }\n\n  createMsg(name, valid) {\n    if (valid === FILE_STATE.VALID) {\n      return (\n        <Fragment>\n          <h2 style={{ color: 'blue' }}>OK</h2>\n\n          <p>\n            {name} is from{' '}\n            <a href=\"https://runelite.net\">https://runelite.net</a>.\n          </p>\n        </Fragment>\n      )\n    }\n\n    return (\n      <Fragment>\n        <h2 style={{ color: 'red' }}>WARNING</h2>\n\n        <p>\n          {name} is <b>NOT</b> from{' '}\n          <a href=\"https://runelite.net\">https://runelite.net</a>.\n        </p>\n\n        {name.match(/.*runelite.*(dmg|jar|exe|appimage)/i) && (\n          <>\n            <h4>\n              You've downloaded a fake client, and your account has been\n              compromised. Remove the fake as soon as possible to minimise\n              further damage.\n            </h4>\n            <p>\n              The following actions should be performed from a secure computer\n              or secure mobile device:\n            </p>\n            <ul>\n              <li>Change your RuneScape password</li>\n              <li>Remove and re-add Authenticator to RuneScape</li>\n              <li>Change your RuneScape bank PIN</li>\n              <li>Change your email's password</li>\n              <li>Add 2FA to your email if you haven't got it enabled</li>\n              <li>\n                Check for any linked accounts by accessing the{' '}\n                <a href=\"https://www.runescape.com/account_settings\">\n                  account settings page\n                </a>\n              </li>\n            </ul>\n\n            <p>\n              Some fake clients also install malware, only a fresh install of\n              your operating system can guarantee the total removal of any\n              unwanted software.\n            </p>\n            <p>\n              You might also want to change any email password if you reused the\n              same as your RuneScape account password.\n            </p>\n\n            <p>\n              Once your computer is secure, you should download RuneLite from{' '}\n              <a href=\"https://runelite.net\">https://runelite.net</a>.\n            </p>\n          </>\n        )}\n      </Fragment>\n    )\n  }\n\n  msDigest(name) {\n    return e => {\n      window.msCrypto.subtle.digest(\n        {\n          name: 'SHA-256'\n        },\n        e.target.result\n      ).oncomplete = e => {\n        const sha256 = bytesToHexString(e.target.result)\n        this.checkFile(name, sha256)\n      }\n    }\n  }\n\n  digest(name) {\n    return e => {\n      window.crypto.subtle\n        .digest(\n          {\n            name: 'SHA-256'\n          },\n          e.target.result\n        )\n        .then(hash => {\n          const sha256 = bytesToHexString(hash)\n          this.checkFile(name, sha256)\n        })\n    }\n  }\n\n  dropHandler(evt) {\n    this.dragLeave(evt)\n\n    if (evt.dataTransfer.files && evt.dataTransfer.files.length === 0) {\n      this.setState({ popupMsg: 'Please select a file' })\n      return\n    }\n\n    const file = evt.dataTransfer.files[0]\n\n    const name = file.name\n    const reader = new FileReader()\n    reader.onload = !isIE11 ? this.digest(name) : this.msDigest(name)\n\n    reader.readAsArrayBuffer(file)\n  }\n\n  dragOver(evt) {\n    noop(evt)\n    this.setState({ dragging: true })\n  }\n\n  dragLeave(evt) {\n    noop(evt)\n    this.setState({ dragging: false })\n  }\n\n  render() {\n    return (\n      <Layout>\n        <section id=\"verify\">\n          <div class=\"content-section\">\n            {this.state.popupMsg && (\n              <Popup handleClose={() => this.setState({ popupMsg: null })}>\n                {this.state.popupMsg}\n              </Popup>\n            )}\n            <div\n              class={`drag-drop-zone ${this.state.dragging ? 'dragging' : ''}`}\n              onDrop={this.dropHandler.bind(this)}\n              onDragOver={this.dragOver.bind(this)}\n              onDragEnter={this.dragOver.bind(this)}\n              onDragLeave={this.dragLeave.bind(this)}\n              onDragEnd={this.dragLeave.bind(this)}\n            >\n              <p>Drag and drop your RuneLite launcher file here...</p>\n            </div>\n          </div>\n        </section>\n      </Layout>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  hashes: getHashes(state),\n  fileNames: getFileNames(state)\n})\n\nconst mapDispatchToProps = dispatch =>\n  bindActionCreators(\n    {\n      fetchHashes\n    },\n    dispatch\n  )\n\nconst prepareComponentData = async ({ fetchHashes }) => {\n  await fetchHashes()\n}\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(prepare(prepareComponentData)(Verify))\n"],"sourceRoot":""}